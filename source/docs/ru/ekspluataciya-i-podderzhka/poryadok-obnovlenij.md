SF4 спроектирован так, чтобы ядро можно было обновлять, не теряя проектные доработки: **всё, что относится к проекту, хранится в `{site_dir}/simai.data`**, а системные слои считаются “перезаписываемыми” при обновлении.

Рекомендуемый безопасный порядок (как регламент эксплуатации, без привязки к конкретной версии SF4):

1. Сделать резервную копию (файлы сайта \+ база).

2. Проверить права записи на `{site_dir}/simai.data` (иначе после обновления часть настроек/сохранений может не примениться).

3. Обновлять окружение “снизу вверх”:

   * PHP (если требуется для целевой версии 1С-Битрикс),  
   * 1С-Битрикс (ядро \+ зависимости),  
   * затем SF4-модули.

4. После обновления проверить:

   * что кастомы в `simai.data` остались на месте,  
   * что системные файлы не “подхватывают” старый кэш,  
   * что на публичной части нет ошибок загрузки CSS/JS.

Если вам нужна именно **жёсткая инструкция “обновлять сначала SF4, потом Bitrix (или наоборот)”** — в локальных данных это не зафиксировано, лучше уточнить под ваш стек (какая версия Bitrix/PHP сейчас и до какой планируется подняться).
