# Обновления и совместимость

## Назначение
Суммирует подтверждённые сведения о версиях SF4 и принципах безопасного обновления.

## Где применяется
Обновление модулей `simai.framework` и связанных данных `{site_dir}/simai.data`.

## Где находится
- Версия SF4 в выгрузке страниц: `source/sf4doc.json`.
- Дерево данных для проверки кастомизаций: `source/structure.json`, `source/sf4-structure.enriched.json`.

## Требования
Держать кастомизации в `{site_dir}/simai.data`; перед обновлением сохранять бэкап БД и каталога данных.

## Как это работает
Не найдено в локальных данных. Искомое: пошаговый регламент обновления модулей SF4. Искали в `source/modules`, `source/file-functional.md`.

## Настройка и параметры
Не найдено в локальных данных. Искомое: матрица совместимости SF4 ↔ Bitrix ↔ PHP. Искали в `source/modules`, `source/sf4doc.md`.

## Примеры из репозитория
Источник: `source/sf4doc.json`
```
SIMAI Framework
...
Текущая версия 4.8.1
```

## Типичные ошибки и диагностика
- Обновление перетирает правки → проверять, что кастомизации лежат в `{site_dir}/simai.data`.
- Несоответствие версий модулей → сверить версию SF4 (например, 4.8.1) и содержимое поставки.

## Что должен уметь читатель после
- Фиксировать текущую версию SF4 из локальных материалов.
- Хранить кастомизации в `{site_dir}/simai.data` перед обновлением.
- Проверять структуру данных после обновления по `source/structure.json`.

## Источники истины
- `source/sf4doc.json`
- `source/structure.json`
- `source/sf4-structure.enriched.json`
